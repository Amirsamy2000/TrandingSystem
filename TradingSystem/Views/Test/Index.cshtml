@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_LayoutDasbord.cshtml";
}
<div id="vdoPlayer" style="width:100%; max-width:720px; height:400px;"></div>

<script src="https://player.vdocipher.com/playerAssets/1.6.10/vdo.js"></script>
<script>
    async function loadVideo(videoId) {
        try {
            // نطلب OTP من السيرفر
            const res = await fetch(`/Test/GetOtp?videoId=${videoId}`);
            const data = await res.json();

            // نشغل vdo.js player
            new VdoPlayer({
                otp: data.otp,
                playbackInfo: data.playbackInfo,
                container: document.querySelector("#vdoPlayer"),
            });
        } catch (err) {
            console.error("Error loading video:", err);
        }
    }

    // 👇 جرب تعرض فيديو (حط VideoId الصحيح بتاعك من VdoCipher)
    loadVideo("YOUR_VIDEO_ID");
</script>


